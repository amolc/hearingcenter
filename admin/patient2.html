<!DOCTYPE html>
<html>
<div data-ng-app="crm" data-ng-controller="admincontroller" ng-init=getID();getLog()>

    <head>

        <!-- your webpage info goes here -->

        <title>The Hearing Centre</title>

        <meta name="author" content="Ama" />
        <meta name="description" content="" />

        <!-- you should always add your stylesheet (css) in the head tag so that it starts loading before the page html is being displayed -->
        <link rel="stylesheet" href="css/admin.css" type="text/css" />
        <link rel="stylesheet" href="css/font-awesome/css/font-awesome.min.css" type="text/css" />
<!--         <link rel="stylesheet" href="css/bootstrap/css/bootstrap.css" type="text/css" /> -->
        <script type="text/javascript" src="js/jquery.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"></script>
        <script type="text/javascript" src="js/angular-storage.min.js"></script>
        <script src="js/bootstrap.js" type="text/javascript"></script>
        <script src="js/index.js"></script>
        <script type="text/javascript" src="js/app.js"></script>
        <script type="text/javascript" src="js/adminCtrl.js"></script>


    </head>
    <header>
        <div class="header_cont">
            <input type="text" name="search" placeholder="Search..">
            <button class="button1">Dashboard</button>
            <button class="button2" onclick="location.href='patient.html';">Patient</button>
            <button class="button3"><a href="account.html?nric={{result.nric}}">Accounts</a></button>
            <button class="button4">Clinic</button>
            <button class="button4"><a href="feedback.html">Feedback</a></button>
            <button class="button4" ng-click="logout()">Logout</button>
            <h6 id="demo"></h6>
            <img src="images/logo_2.png"><br><br>
        </div>
    </header>

    <body>
        <!-- <div data-ng-app="crm" data-ng-controller="admincontroller" ng-init=getID()> -->

        <div class="patient2">

            <nav>
                <div class="boxbox">
                    <table>

                        <th>
                            &nbsp;
                        </th>

                        <tr>
                            <td>
                                <h2>{{result.firstName}} {{result.lastName}} Tom Tan Yi Wei</h2>
                                <h3>{{result.nric}} S1355605D</h3>
                                <h3 ng-show = "result.custypeID == 0" ng-style="{'color': colorChange}">
                                 Patient 
                                </h3>
                                <h3 class="green">Patient</h3>
                                <h3 ng-show = "result.custypeID == 1" style="color:#aa66cc" ng-style="colorChange">
                                    <strong> Past Surgery </strong>
                                  <!--  <strong> {{result.description}} </strong> -->
                                </h3>
                                <h3 ng-show = "result.custypeID == 2" style="color:#fbc02d" ng-style="colorChange">
                                    <strong> VIP </strong>
                                   <!--  <strong> {{result.description}} </strong> -->
                                </h3>
                                <h3 ng-show = "result.custypeID == 3" style="color: #263238" ng-style="colorChange">
                                    <strong> Blacklisted </strong>
                                    <!-- <strong> {{result.description}} </strong> -->
                                </h3>
                            </td>
                        </tr>

                    </table>
                </div>

                <div class="boxbox2">

                    <table>
                        <tr>
                            <th>
                                <span> Patient Detail </span>
                                <i style="float:right;cursor:pointer" id="submit" class="fa fa-pencil-square-o fa-lg" ng-click = "editInfo()"></i> 
                            </th>

                        </tr>

                        <tr><td><strong>First Name</strong><br>{{result.firstName}}</td></tr>
                        <tr><td><strong>Last Name</strong><br>{{result.lastName}}</td></tr>
                        <tr><td><strong>Email</strong><br>{{result.email_address}}</td></tr>
                        <tr><td><strong>NRIC</strong><br>{{result.nric}}</td></tr>
                        <tr><td><strong>Mobile No.</strong><br>{{result.mobile_number}}</td></tr>
                        <tr><td><strong>Home No.</strong><br>{{result.home_number}}</td></tr>

                        <!-- <tr ng-if = "result.type == 1">
                            <td>
                                <strong>Types of patients</strong><br>{{result.description}} 
                            </td>
                        </tr>

                        <tr ng-if = "result.type == 2">
                            <td ng-style="{'background-color': result.color,'color': 'white'}"> 
                                <strong>Types of patients</strong><br>{{result.description}}
                            </td>
                        </tr>

                        <tr ng-if = "result.type == 3">
                            <td ng-style="{'background-color': result.color,'color': 'white'}"> 
                                <strong>Types of patients</strong><br>{{result.description}}
                            </td>
                        </tr>

                        <tr ng-if = "result.type == 4">
                            <td ng-style="{'background-color': result.color,'color': 'white'}"> 
                                <strong>Types of patients</strong><br>{{result.description}}
                            </td>
                        </tr> -->

                        <tr><td><strong>Gender</strong><br>{{result.gender}}</td></tr>
                        <tr><td><strong>Address</strong><br>{{result.residential_address}}</td></tr>
                        <tr><td><strong>Postal</strong><br>{{result.postal}}</td></tr>
                        <tr><td><strong>Country</strong><br>{{result.country}}</td></tr>            
                    </table>
                </div>


                <div id="modalEditPatient" class="modal">
                <!-- Modal content -->
                    <span class="close"></span>

                    <form class="form-style-9" name="custInfo" ng-controller="admincontroller" ng-submit=updateCustInfo();edit()>
                        <ul>
                            <li>
                                <input type="text" name="field1" class="field-style field-split align-left" required ng-model="result.firstName"/>
                                <input type="text" name="field2" class="field-style field-split align-right" required ng-model="result.lastName"/> 
                            </li>

                            <li>
                                <input type="text" name="field3" class="field-style field-split align-left" required ng-model="result.mobile_number"/>
                                <input type="text" name="field4" class="field-style field-split align-right" required ng-model="result.home_number"/>
                            </li>

                            <li>
                                <input type="text" name="field3" class="field-style field-split align-left" required ng-model="result.email_address"/>
                                <input type="text" name="field4" class="field-style field-split align-right" required ng-model="result.nric"/>
                            </li>

                            <li>
                                <input type="hidden" name="field4" class="field-style field-split align-left" required ng-model="result.id"/>
                                <input type="text" name="field4" class="field-style field-split align-right" required ng-model="result.gender"/>


                                <select class="field-style field-split align-right" required ng-model="result.custypeID" ng-change="changeColor(result.custypeID)" ng-options="custype.custypeID as custype.description for custype in customerType">>
                                    
                                </select>

                               <!--  <input type="text" name="field4" class="field-style field-split align-right" required ng-model="result.description"/> -->
                            </li>

                            <li>
                                <input type="text" name="field3" class="field-style field-full align-none" required ng-model="result.residential_address"/>
                            </li>

                            <li>
                                <input type="text" name="field3" class="field-style field-split align-left" required ng-model="result.postal"/>
                                <input type="text" name="field4" class="field-style field-split align-right" required ng-model="result.country"/>
                            </li>

                            <li>
                                <input value="Submit" class="button3" name="submit" type="submit">
                                <input value="Cancel" class="button3" name="submit" type="submit" ng-click="edit()">
                            </li>
                        </ul>
                    </form> 
                </div>

            </nav>

            <article>

                 <!--<form name="patient2" ng-controller="admincontroller" ng-submit=inputLog()>
                    
                    <div class="edit">
                        <table>
                            <tr>
                                <td>
                                     <button id="submit" class="button" ng-click = "editInfo()"><i class="fa fa-pencil-square"></i> Edit details </button>  
                                </td>
                            </tr>
                        </table>
                    </div>

                    <div class="page2">
                        <table>
                            <tr>
                                <td><button id="btn1" class="button" ng-click="buttonId('New Patient Log')">New Patient Log</button></td>
                                <td><button id="btn2" class="button" ng-click="buttonId('Notes')">Notes</button></td>
                                <td><button id="btn3" class="button" ng-click="buttonId('Log Activity')">Log Activity</button></td>
                                <td><button id="btn4" class="button" ng-click="buttonId('Create Task')">Create Task</button></td>
                                <td><button id="btn5" class="button" ng-click="buttonId('Create Invoice')">Create Invoice</button></td>
                                <td><button id="btn6" class="button" ng-click="buttonId('Schedule Appointment')">Schedule Appointment</button></td>
                            </tr>

                            <!--Large textbox for user 
                            <textarea rows="4" cols="50" name="message" required id="user_input" ng-model="textLog"></textarea>

                            
                        </table>                                                
                    </div>

                    <div class="page2-2">
                        <table id="saveAndDiscard">
                            <tr>
                                <td><button id="submit" class="button">Save</button></td>
                                <td><button type="button" id="reset" class="button" ng-click="clearField();">Discard</button></td>
                            </tr>
                        </table>
                    </div>

                </form>

                <div id="newDivs" class="msg">
                    <table>
                        <tr ng-repeat="patient in patientLog">
                            <td>
                                <strong>
                                    Admin created a <u>{{patient.tabType}}</u> for {{patient.firstName}} {{patient.lastName}}<br>
                                    {{patient.date}} at {{patient.time}}<br><br>
                                </strong> {{patient.remark}}

                                <br><br>

                            </td>
                        </tr>

                    </table>
                </div>

                Drop down selection for clinic and dates 
                <div id= "apptDate" class="apptDate">
                    
                    <form name="appointment" ng-controller="admincontroller" ng-submit=scheduleAppt()>
                        <select class="clinic" ng-model="clinic">
                            <option value="clinic1">Clinic 1</option>
                            <option value="clinic2">Clinic 2</option>
                            <option value="clinic3">Clinic 3</option>
                        </select>    

                        <select class="day" ng-model="day">
                            <option value="1">01</option>
                            <option value="2">02</option>
                            <option value="3">03</option>
                            <option value="4">04</option>
                            <option value="5">05</option>
                        </select>   

                        <select class="month" ng-model="month">
                            <option value="jan">January</option>
                            <option value="feb">February</option>
                            <option value="mar">March</option>
                            <option value="apr">April</option>
                            <option value="may">May</option>
                        </select>   

                        <select class="year" ng-model="year">
                            <option value="1900">1900</option>
                            <option value="1901">1901</option>
                            <option value="1902">1902</option>
                            <option value="1903">1903</option>
                            <option value="1904">1904</option>
                        </select> 


                        <button class="scheduleSubmit" id="submit" class="button">Submit</button>
                    </form> -->
                    <div class="tab">
                      <button class="tablinks" onclick="openCity(event, 'New Patience Log')">New Patience Log</button>
                      <button class="tablinks" onclick="openCity(event, 'Notes')">Notes</button>
                      <button class="tablinks" onclick="openCity(event, 'Log Activity')">Log Activity</button>
                      <button class="tablinks" onclick="openCity(event, 'Create Tasks')">Create Tasks</button>
                      <button class="tablinks" onclick="openCity(event, 'Create Invoice')">Create Invoice</button>
                      <button class="tablinks" onclick="openCity(event, 'Appointemnt')">Appointemnt</button>

                    </div>

                    <div id="New Patience Log" class="tabcontent">
                      <h3>New Patience Log</h3>
                      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                      tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
                      quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
                      consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
                      cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
                      proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                    </div>

                    <div id="Notes" class="tabcontent">
                      <h3>Notes</h3>
                      <p>Notes is the capital of France.</p> 
                    </div>

                    <div id="Log Activity" class="tabcontent">
                      <h3>Log Activity</h3>
                      <p>Log Activity is the capital of Japan.</p>
                    </div>

                </div>

                 <!-- <div id="appointment" class="appointment">
                     testing 
                     <datepicker>
                        <input ng-model="date" type="text"/>
                    </datepicker>
                </div>  -->


            </article>
        </div>
</div>




<script>
    var d = new Date();
    document.getElementById("demo").innerHTML = d.toDateString();


    function openCity(evt, cityName) {
    // Declare all variables
    var i, tabcontent, tablinks;

    // Get all elements with class="tabcontent" and hide them
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
    }

    // Get all elements with class="tablinks" and remove the class "active"
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
    }

    // Show the current tab, and add an "active" class to the button that opened the tab
    document.getElementById(cityName).style.display = "block";
    evt.currentTarget.className += " active";
}

</script>
</body>

</html>